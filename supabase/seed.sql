-- Generated by scripts/generate-seed-sql.mjs
-- Seed baseline brew cards from src/data/legacyCards.json

begin;

delete from public.recipe_steps where version_id like 'seed-%';
delete from public.recipe_versions where recipe_id like 'seed-%';
delete from public.recipes where id like 'seed-%';

insert into public.recipes (
  id,
  owner_id,
  slug,
  title,
  brewer,
  description,
  quote,
  cover_image_url,
  is_public,
  difficulty,
  brew_time_min,
  active_version_id,
  created_at,
  updated_at
)
values
  (
    'seed-chemex',
    null,
    'chemex',
    'Chemex',
    'Chemex',
    'Classic Chemex recipe with guided pour and timing targets.',
    'The Chemex is as aesthetically pleasing as it is able to make delicious, well-rounded coffee for you and your friend(s), -Tim',
    '/assets/images/Chemex.png',
    true,
    'Medium',
    6,
    'seed-chemex-v1',
    '2024-01-01T00:00:00.000Z'::timestamptz,
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-clever-dripper',
    null,
    'clever-dripper',
    'Clever Dripper',
    'Clever Dripper',
    'Classic Clever Dripper recipe with guided pour and timing targets.',
    'If you want to brew smart instead of hard, it would be wise of you to brew with the Clever. -Tim',
    '/assets/images/Clever.png',
    true,
    'Medium',
    5,
    'seed-clever-dripper-v1',
    '2024-01-01T00:00:00.000Z'::timestamptz,
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-aeropress',
    null,
    'aeropress',
    'Aeropress',
    'Aeropress',
    'Classic Aeropress recipe with guided pour and timing targets.',
    'The aeropress is weird, but it''s the best way to make coffee for you and your friend(s), -Tim',
    '/assets/images/AeroPress.png',
    true,
    'Medium',
    4,
    'seed-aeropress-v1',
    '2024-01-01T00:00:00.000Z'::timestamptz,
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-french-press',
    null,
    'french-press',
    'French Press',
    'French Press',
    'Classic French Press recipe with guided pour and timing targets.',
    'The French Press makes coffee with lots of body and sweetness. Profiter avec les autres! -Tim',
    '/assets/images/FrenchPress.png',
    true,
    'Medium',
    7,
    'seed-french-press-v1',
    '2024-01-01T00:00:00.000Z'::timestamptz,
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-kalita-wave',
    null,
    'kalita-wave',
    'Kalita Wave',
    'Kalita Wave',
    'Classic Kalita Wave recipe with guided pour and timing targets.',
    'Don''t quote me on this, but the Kalita Wave is 100% foolproof. You''ll always get lots of clarity and sweetness -Tim',
    '/assets/images/KalitaWave.png',
    true,
    'Medium',
    6,
    'seed-kalita-wave-v1',
    '2024-01-01T00:00:00.000Z'::timestamptz,
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-hario-v60',
    null,
    'hario-v60',
    'Hario V60',
    'Hario V60',
    'Classic Hario V60 recipe with guided pour and timing targets.',
    'The V60 makes wonderfully bright cups & offers lots of variety base on your technique -Tim',
    '/assets/images/HarioV60.png',
    true,
    'Medium',
    5,
    'seed-hario-v60-v1',
    '2024-01-01T00:00:00.000Z'::timestamptz,
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-coffee-brewer',
    null,
    'coffee-brewer',
    'Coffee Brewer',
    'Coffee Brewer',
    'Classic Coffee Brewer recipe with guided pour and timing targets.',
    'Lots of coffee fanatics believe that single cup brewing is the best way to make delicious coffee. I don''t think it''s about the size of the brewer, though, it''s how you use it. -Tim',
    '/assets/images/MrCoffee.png',
    true,
    'Easy',
    2,
    'seed-coffee-brewer-v1',
    '2024-01-01T00:00:00.000Z'::timestamptz,
    '2024-01-01T00:00:00.000Z'::timestamptz
  )
on conflict (id) do update set
  slug = excluded.slug,
  title = excluded.title,
  brewer = excluded.brewer,
  description = excluded.description,
  quote = excluded.quote,
  cover_image_url = excluded.cover_image_url,
  is_public = excluded.is_public,
  difficulty = excluded.difficulty,
  brew_time_min = excluded.brew_time_min,
  active_version_id = excluded.active_version_id,
  updated_at = excluded.updated_at;

insert into public.recipe_versions (
  id,
  recipe_id,
  version_number,
  base_water_grams,
  base_dose_grams,
  target_temp_c,
  grind_label,
  notes,
  equipment,
  created_at
)
values
  (
    'seed-chemex-v1',
    'seed-chemex',
    1,
    660,
    44,
    96,
    'Medium',
    '660g Water / 44g Coffee / Chemex / Chemex Filters / Gooseneck Kettle / Scale / Timer',
    array['Chemex', 'Chemex Filters', 'Gooseneck Kettle', 'Scale', 'Timer']::text[],
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-clever-dripper-v1',
    'seed-clever-dripper',
    1,
    425,
    28,
    96,
    'Medium',
    '425g Water / 28g Coffee / Clever /  Filters / Decanter / Scale / Timer',
    array['Clever', 'Filters', 'Decanter', 'Scale', 'Timer']::text[],
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-aeropress-v1',
    'seed-aeropress',
    1,
    230,
    16,
    91,
    'Medium',
    '230g Water / 16g Coffee / Aeropress / Aeropress Filters / Timer',
    array['Aeropress', 'Aeropress Filters', 'Timer']::text[],
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-french-press-v1',
    'seed-french-press',
    1,
    515,
    33,
    96,
    'Medium',
    '515g Water / 33g Coffee / Scale / Timer / Spoon',
    array['Scale', 'Timer', 'Spoon']::text[],
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-kalita-wave-v1',
    'seed-kalita-wave',
    1,
    385,
    26,
    96,
    'Medium',
    '385g Water / 26g Coffee / Kalita / Filters / Gooseneck Kettle / Scale / Timer',
    array['Kalita', 'Filters', 'Gooseneck Kettle', 'Scale', 'Timer']::text[],
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-hario-v60-v1',
    'seed-hario-v60',
    1,
    400,
    28,
    96,
    'Medium',
    '400g Water / 28g Coffee / V60 / Filters / Gooseneck Kettle / Scale / Timer',
    array['Filters', 'Gooseneck Kettle', 'Scale', 'Timer']::text[],
    '2024-01-01T00:00:00.000Z'::timestamptz
  ),
  (
    'seed-coffee-brewer-v1',
    'seed-coffee-brewer',
    1,
    1420,
    34,
    96,
    'Medium',
    '6 Cups of Water / 6.5 Tablespoons of Coffee / Coffee Brewer / Coffee Filter',
    array[]::text[],
    '2024-01-01T00:00:00.000Z'::timestamptz
  )
on conflict (id) do update set
  recipe_id = excluded.recipe_id,
  version_number = excluded.version_number,
  base_water_grams = excluded.base_water_grams,
  base_dose_grams = excluded.base_dose_grams,
  target_temp_c = excluded.target_temp_c,
  grind_label = excluded.grind_label,
  notes = excluded.notes,
  equipment = excluded.equipment;

insert into public.recipe_steps (
  id,
  version_id,
  step_order,
  type,
  instruction,
  target_water_grams,
  duration_sec,
  window_start_sec,
  window_end_sec,
  tips
)
values
  (
    'seed-chemex-step-1',
    'seed-chemex-v1',
    0,
    'prep',
    'Heat Water to 205°F',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-chemex-step-2',
    'seed-chemex-v1',
    1,
    'prep',
    'Place filter in Chemex, and rinse with hot water',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-chemex-step-3',
    'seed-chemex-v1',
    2,
    'prep',
    'Course grind coffee and add to Chemex',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-chemex-step-4',
    'seed-chemex-v1',
    3,
    'pour',
    'Add 75g of water and let bloom for 45 seconds.',
    75,
    45,
    null,
    null,
    null
  ),
  (
    'seed-chemex-step-5',
    'seed-chemex-v1',
    4,
    'pour',
    'Continue adding water in heavy 75g pours until you reached your total water amount',
    75,
    null,
    null,
    null,
    null
  ),
  (
    'seed-chemex-step-6',
    'seed-chemex-v1',
    5,
    'wait',
    'Total brew time should be between 3:30 - 4:30 minutes',
    null,
    210,
    null,
    null,
    null
  ),
  (
    'seed-clever-dripper-step-1',
    'seed-clever-dripper-v1',
    0,
    'prep',
    'Heat Water to 205°F',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-clever-dripper-step-2',
    'seed-clever-dripper-v1',
    1,
    'prep',
    'Place filter in Clever, and rinse with hot water',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-clever-dripper-step-3',
    'seed-clever-dripper-v1',
    2,
    'prep',
    'Medium grind coffee and add to Clever',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-clever-dripper-step-4',
    'seed-clever-dripper-v1',
    3,
    'pour',
    'Add 60g of water and let bloom for 30 seconds.',
    60,
    30,
    null,
    null,
    null
  ),
  (
    'seed-clever-dripper-step-5',
    'seed-clever-dripper-v1',
    4,
    'pour',
    'Continue adding water until you reached your total of 425g and cover Clever with lid',
    425,
    null,
    null,
    null,
    null
  ),
  (
    'seed-clever-dripper-step-6',
    'seed-clever-dripper-v1',
    5,
    'wait',
    'Place Clever on top of a decanter or large mug at 3:00 minutes to drain',
    null,
    180,
    null,
    null,
    null
  ),
  (
    'seed-aeropress-step-1',
    'seed-aeropress-v1',
    0,
    'prep',
    'Heat Water to 195°F',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-aeropress-step-2',
    'seed-aeropress-v1',
    1,
    'prep',
    'Place filter in basket, and rinse with hot water, and attach basket to chamber',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-aeropress-step-3',
    'seed-aeropress-v1',
    2,
    'prep',
    'Medium-fine grind coffee',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-aeropress-step-4',
    'seed-aeropress-v1',
    3,
    'pour',
    'Add grounds & 20g of water to bloom for 30 seconds',
    20,
    30,
    null,
    null,
    null
  ),
  (
    'seed-aeropress-step-5',
    'seed-aeropress-v1',
    4,
    'wait',
    'Add remaining water to brew for 1 minute 30 seconds',
    null,
    90,
    null,
    null,
    null
  ),
  (
    'seed-aeropress-step-6',
    'seed-aeropress-v1',
    5,
    'press',
    'Set plunger on chamber and press for 30 seconds',
    null,
    30,
    null,
    null,
    null
  ),
  (
    'seed-french-press-step-1',
    'seed-french-press-v1',
    0,
    'prep',
    'Heat Water to 205°F',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-french-press-step-2',
    'seed-french-press-v1',
    1,
    'press',
    'Coarsely grind coffee and add to French Press',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-french-press-step-3',
    'seed-french-press-v1',
    2,
    'wait',
    'Add water and start 4 minute timer',
    null,
    240,
    null,
    null,
    null
  ),
  (
    'seed-french-press-step-4',
    'seed-french-press-v1',
    3,
    'stir',
    'Stir coffee after 1 minute',
    null,
    60,
    null,
    null,
    null
  ),
  (
    'seed-french-press-step-5',
    'seed-french-press-v1',
    4,
    'press',
    'Cover with plunger',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-french-press-step-6',
    'seed-french-press-v1',
    5,
    'press',
    'Plunge after timer finishes',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-french-press-step-7',
    'seed-french-press-v1',
    6,
    'wait',
    'Decant immediately to stop brewing',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-kalita-wave-step-1',
    'seed-kalita-wave-v1',
    0,
    'prep',
    'Heat Water to 205°F',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-kalita-wave-step-2',
    'seed-kalita-wave-v1',
    1,
    'prep',
    'Place filter in Kalita, and rinse with hot water',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-kalita-wave-step-3',
    'seed-kalita-wave-v1',
    2,
    'prep',
    'Medium grind coffee and add to Kalita',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-kalita-wave-step-4',
    'seed-kalita-wave-v1',
    3,
    'pour',
    'Add 50g of water and let bloom for 30 seconds.',
    50,
    30,
    null,
    null,
    null
  ),
  (
    'seed-kalita-wave-step-5',
    'seed-kalita-wave-v1',
    4,
    'pour',
    'Continue adding water in heavy 50g pours until you reached your total water amount',
    50,
    null,
    null,
    null,
    null
  ),
  (
    'seed-kalita-wave-step-6',
    'seed-kalita-wave-v1',
    5,
    'wait',
    'Total brew time should be between 3 - 4 minutes',
    null,
    240,
    null,
    null,
    null
  ),
  (
    'seed-hario-v60-step-1',
    'seed-hario-v60-v1',
    0,
    'prep',
    'Heat Water to 205°F',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-hario-v60-step-2',
    'seed-hario-v60-v1',
    1,
    'prep',
    'Place filter in V60, and rinse with hot water',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-hario-v60-step-3',
    'seed-hario-v60-v1',
    2,
    'prep',
    'Medium grind coffee and add to V60',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-hario-v60-step-4',
    'seed-hario-v60-v1',
    3,
    'pour',
    'Add 50g of water and let bloom for 30 seconds.',
    50,
    30,
    null,
    null,
    null
  ),
  (
    'seed-hario-v60-step-5',
    'seed-hario-v60-v1',
    4,
    'pour',
    'Continue adding water in heavy 50g pours until you reached your total water amount',
    50,
    null,
    null,
    null,
    null
  ),
  (
    'seed-hario-v60-step-6',
    'seed-hario-v60-v1',
    5,
    'wait',
    'Total brew time should be between 2:30 - 3:30 minutes',
    null,
    150,
    null,
    null,
    null
  ),
  (
    'seed-coffee-brewer-step-1',
    'seed-coffee-brewer-v1',
    0,
    'prep',
    'Eyeball 6 cups of water in your coffee pot and add to brewer',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-coffee-brewer-step-2',
    'seed-coffee-brewer-v1',
    1,
    'prep',
    'Place coffee filter in brew basket',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-coffee-brewer-step-3',
    'seed-coffee-brewer-v1',
    2,
    'wait',
    'Scoop 6.5 tbsp of coffee into brew basket',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-coffee-brewer-step-4',
    'seed-coffee-brewer-v1',
    3,
    'wait',
    'Turn on brewer',
    null,
    null,
    null,
    null,
    null
  ),
  (
    'seed-coffee-brewer-step-5',
    'seed-coffee-brewer-v1',
    4,
    'serve',
    'Enjoy your coffee',
    null,
    null,
    null,
    null,
    null
  )
on conflict (id) do update set
  version_id = excluded.version_id,
  step_order = excluded.step_order,
  type = excluded.type,
  instruction = excluded.instruction,
  target_water_grams = excluded.target_water_grams,
  duration_sec = excluded.duration_sec,
  window_start_sec = excluded.window_start_sec,
  window_end_sec = excluded.window_end_sec,
  tips = excluded.tips;

commit;
